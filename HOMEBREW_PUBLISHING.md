# Homebrew Publishing Guide

## âœ… Project Ready for Distribution

Ğ’Ğ°Ñˆ Ğ¿Ñ€Ğ¾ĞµĞºÑ‚ Ğ³Ğ¾Ñ‚Ğ¾Ğ² Ğº Ğ¿ÑƒĞ±Ğ»Ğ¸ĞºĞ°Ñ†Ğ¸Ğ¸ Ğ² Homebrew Cask. Ğ’ÑĞµ Ğ½ĞµĞ¾Ğ±Ñ…Ğ¾Ğ´Ğ¸Ğ¼Ñ‹Ğµ Ñ„Ğ°Ğ¹Ğ»Ñ‹ Ğ¸ ÑĞºÑ€Ğ¸Ğ¿Ñ‚Ñ‹ ÑĞ¾Ğ·Ğ´Ğ°Ğ½Ñ‹.

## ğŸ“¦ What's Ready

### .app Bundle
- **Location**: `.build/release/HomebrewServicesManager.app.zip` (168 KB)
- **Format**: Proper macOS application bundle with Info.plist
- **SHA256**: `c0ccb7a6ab1119e8ba1a02f6365f0fe3529f2cf74e2c9a9d63c4446b7e7082c2`

### Documentation
- `HOMEBREW_CASK.md` - ĞŸĞ¾Ğ»Ğ½Ğ¾Ğµ Ñ€ÑƒĞºĞ¾Ğ²Ğ¾Ğ´ÑÑ‚Ğ²Ğ¾ Ğ¿Ğ¾ Ğ¿Ñ€Ğ¾Ñ†ĞµÑÑÑƒ
- `QUICKSTART_HOMEBREW.md` - Ğ‘Ñ‹ÑÑ‚Ñ€Ñ‹Ğ¹ ÑÑ‚Ğ°Ñ€Ñ‚ Ğ·Ğ° 5 Ğ¼Ğ¸Ğ½ÑƒÑ‚
- `DISTRIBUTION.md` - Ğ”Ğ¸Ğ°Ğ³Ñ€Ğ°Ğ¼Ğ¼Ñ‹ Ğ¸ Ğ²Ğ¸Ğ·ÑƒĞ°Ğ»ÑŒĞ½Ñ‹Ğµ ÑÑ…ĞµĞ¼Ñ‹
- `INSTALLATION.md` - Ğ˜Ğ½ÑÑ‚Ñ€ÑƒĞºÑ†Ğ¸Ğ¸ Ğ´Ğ»Ñ Ğ¿Ğ¾Ğ»ÑŒĞ·Ğ¾Ğ²Ğ°Ñ‚ĞµĞ»ĞµĞ¹

### Automation Scripts
- `build-app-bundle.sh` - ĞĞ²Ñ‚Ğ¾Ğ¼Ğ°Ñ‚Ğ¸Ñ‡ĞµÑĞºĞ¾Ğµ ÑĞ¾Ğ·Ğ´Ğ°Ğ½Ğ¸Ğµ .app bundle
- `PUBLISH.sh` - ĞŸĞ¾Ğ´Ğ³Ğ¾Ñ‚Ğ¾Ğ²ĞºĞ° Ğº Ğ¿ÑƒĞ±Ğ»Ğ¸ĞºĞ°Ñ†Ğ¸Ğ¸

### Cask Formula
- `homebrew-services-manager.rb` - Ready-to-use formula with SHA256

## ğŸš€ Quick Publication Steps

### Step 1: Set Up GitHub Repository

```bash
# If not already on GitHub:
git remote add origin https://github.com/YOUR_USERNAME/homebrew-services-manager.git
git push -u origin main
```

### Step 2: Create Release

```bash
# Build and prepare for release
./PUBLISH.sh 1.0

# This will:
# 1. Create .app bundle
# 2. Create zip archive
# 3. Calculate SHA256
# 4. Show you the SHA256 to copy
```

### Step 3: Upload to GitHub

```bash
# Create GitHub release with the .app.zip file
gh release create v1.0 \
  --title "v1.0 - Initial Release" \
  --notes "Homebrew Services Manager - Menu bar app for managing Homebrew services" \
  .build/release/HomebrewServicesManager.app.zip
```

### Step 4: Create Homebrew Tap (One-time)

On GitHub, create a new repository: `homebrew-tap`

```bash
# Locally:
git clone https://github.com/YOUR_USERNAME/homebrew-tap.git
cd homebrew-tap
mkdir -p Casks

# Copy the formula from main project
cp ../homebrew-services-manager/homebrew-services-manager.rb Casks/

# Commit and push
git add Casks/homebrew-services-manager.rb
git commit -m "Add homebrew-services-manager cask"
git push
```

### Step 5: Users Can Install

```bash
brew tap YOUR_USERNAME/tap
brew install --cask homebrew-services-manager
```

## ğŸ“‹ Files Structure

### Main Repository
```
homebrew-services-manager/
â”œâ”€â”€ Sources/              # Application source code
â”œâ”€â”€ Package.swift         # Swift build configuration
â”œâ”€â”€ build-app-bundle.sh   # âœ… Builds .app bundle
â”œâ”€â”€ PUBLISH.sh           # âœ… Publication automation
â”œâ”€â”€ homebrew-services-manager.rb  # âœ… Cask formula
â”œâ”€â”€ HOMEBREW_CASK.md     # âœ… Detailed guide
â”œâ”€â”€ QUICKSTART_HOMEBREW.md # âœ… Quick start
â”œâ”€â”€ DISTRIBUTION.md      # âœ… Process diagrams
â””â”€â”€ INSTALLATION.md      # âœ… User instructions
```

### Tap Repository (create on GitHub)
```
homebrew-tap/
â”œâ”€â”€ Casks/
â”‚   â””â”€â”€ homebrew-services-manager.rb  # â† Copy from main
â””â”€â”€ README.md (optional)
```

## ğŸ”„ Updating Versions

For v1.1, v1.2, etc.:

```bash
# In main repository:
./PUBLISH.sh 1.1

# Copy the SHA256 output
# Create GitHub release: gh release create v1.1 .build/release/HomebrewServicesManager.app.zip

# In homebrew-tap repository:
# Edit Casks/homebrew-services-manager.rb:
#   - Change version to '1.1'
#   - Change sha256 to new hash
# Commit and push
```

## ğŸ“ Bundle Contents

```
HomebrewServicesManager.app
â”œâ”€â”€ Contents/
â”‚   â”œâ”€â”€ Info.plist              # Bundle metadata
â”‚   â”œâ”€â”€ MacOS/
â”‚   â”‚   â””â”€â”€ HomebrewServicesManager  # Executable
â”‚   â””â”€â”€ Resources/              # (empty for CLI app)
â””â”€â”€ _CodeSignature/             # (auto-generated by macOS)
```

### Info.plist Metadata
- **Identifier**: `com.homebrew.services-manager`
- **Name**: Homebrew Services Manager
- **Version**: 1.0
- **Executable**: HomebrewServicesManager
- **Type**: Menu bar application (LSUIElement)

## ğŸ” Security Considerations

- The `.app` bundle is codesigned by the user's system on first run
- No developer certificate required for personal distribution
- Users can install with standard `brew` commands
- Proper `.app` bundle structure ensures macOS recognizes it

## âœ¨ Features of This Setup

1. **Automated**: Use scripts to avoid manual errors
2. **Standard**: Follows macOS and Homebrew conventions
3. **Versioned**: Easily manage multiple versions
4. **User-friendly**: One command installation for users
5. **Documented**: Complete guides for distribution process

## ğŸ¯ Next Steps

1. Replace `YOUR_USERNAME` with your actual GitHub username in:
   - `homebrew-services-manager.rb`
   - Documentation files

2. Create `homebrew-tap` repository on GitHub

3. Run `./PUBLISH.sh 1.0` to prepare first release

4. Follow the prompts and you're done!

## ğŸ“ Support

- For Homebrew Cask docs: https://docs.brew.sh/Cask-Cookbook
- For GitHub CLI help: https://cli.github.com/manual/
- For issues: https://github.com/Homebrew/homebrew-cask/discussions

---

**Status**: âœ… Ready for Homebrew distribution
**Bundle Size**: 168 KB (.app.zip)
**Platform**: macOS 13.0+
**Distribution Method**: Homebrew Cask via personal tap
