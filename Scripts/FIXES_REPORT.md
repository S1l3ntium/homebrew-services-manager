# –û—Ç—á–µ—Ç –æ–± –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è—Ö –ø—Ä–æ–µ–∫—Ç–∞ Homebrew Services Manager

## üìã –ù–∞–π–¥–µ–Ω–Ω—ã–µ –∏ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã

### 1. ‚ùå –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–π
**–ü—Ä–æ–±–ª–µ–º–∞:** –§–∞–π–ª—ã –Ω–∞—Ö–æ–¥–∏–ª–∏—Å—å –≤ –∫–æ—Ä–Ω–µ –ø—Ä–æ–µ–∫—Ç–∞ –≤–º–µ—Å—Ç–æ –ø—Ä–∞–≤–∏–ª—å–Ω—ã—Ö –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–π Sources/

**–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ:**
- ‚úÖ –°–æ–∑–¥–∞–Ω–∞ –ø—Ä–∞–≤–∏–ª—å–Ω–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞:
  - `Sources/CLI/main.swift`
  - `Sources/Core/Models.swift`
  - `Sources/Core/BrewServiceManager.swift`
  - `Sources/App/` (–≤—Å–µ UI —Ñ–∞–π–ª—ã)
  - `Sources/SystemModule/` (NotificationsManager, Dummy)
  - `Tests/CoreTests/` (—Ç–µ—Å—Ç—ã)

### 2. ‚ùå Package.swift - –æ—Ç—Å—É—Ç—Å—Ç–≤—É—é—â–∏–µ –ø—É—Ç–∏
**–ü—Ä–æ–±–ª–µ–º–∞:** –¢–∞—Ä–≥–µ—Ç—ã –Ω–µ –∏–º–µ–ª–∏ —è–≤–Ω—ã—Ö –ø—É—Ç–µ–π, —á—Ç–æ –º–æ–≥–ª–æ –≤—ã–∑–≤–∞—Ç—å –ø—Ä–æ–±–ª–µ–º—ã –ø—Ä–∏ —Å–±–æ—Ä–∫–µ

**–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ:**
```swift
.executableTarget(
    name: "CLI",
    dependencies: ["Core"],
    path: "Sources/CLI"  // ‚Üê –î–æ–±–∞–≤–ª–µ–Ω–æ
)
```

### 3. ‚ùå build.sh —Å–æ–∑–¥–∞–≤–∞–ª dist –≤ –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ–º –º–µ—Å—Ç–µ
**–ü—Ä–æ–±–ª–µ–º–∞:** –°–∫—Ä–∏–ø—Ç –ø—ã—Ç–∞–ª—Å—è —Å–æ–∑–¥–∞—Ç—å `../dist` –≤–º–µ—Å—Ç–æ `./dist`

**–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ:**
- ‚úÖ –¢–µ–ø–µ—Ä—å —Å–æ–∑–¥–∞–µ—Ç—Å—è `dist/` –≤ –∫–æ—Ä–Ω–µ –ø—Ä–æ–µ–∫—Ç–∞
- ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω—ã emoji –∏ —É–ª—É—á—à–µ–Ω–Ω—ã–π –≤—ã–≤–æ–¥
- ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω–∞ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å —Å–æ–±—Ä–∞—Ç—å App —á–µ—Ä–µ–∑ `BUILD_APP=1`
- ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω–∞ —É—Å—Ç–∞–Ω–æ–≤–∫–∞ –ø—Ä–∞–≤ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è `chmod +x`

### 4. ‚ùå –û—Ç—Å—É—Ç—Å—Ç–≤–æ–≤–∞–ª–∏ —Ç–µ—Å—Ç—ã
**–ü—Ä–æ–±–ª–µ–º–∞:** –í –ø—Ä–æ–µ–∫—Ç–µ –Ω–µ –±—ã–ª–æ unit-—Ç–µ—Å—Ç–æ–≤

**–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ:**
- ‚úÖ –°–æ–∑–¥–∞–Ω `Tests/CoreTests/BrewServiceManagerTests.swift`
- ‚úÖ –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –Ω–æ–≤—ã–π Swift Testing —Ñ—Ä–µ–π–º–≤–æ—Ä–∫ —Å –º–∞–∫—Ä–æ—Å–∞–º–∏ @Test
- ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω—ã —Ç–µ—Å—Ç—ã –¥–ª—è –ø–∞—Ä—Å–µ—Ä–∞ brew services

### 5. ‚ö†Ô∏è –û—Ç—Å—É—Ç—Å—Ç–≤–æ–≤–∞–ª–∞ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
**–ü—Ä–æ–±–ª–µ–º–∞:** –ù–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤

**–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ:**
- ‚úÖ –°–æ–∑–¥–∞–Ω –ø–æ–¥—Ä–æ–±–Ω—ã–π `README_RU.md` –Ω–∞ —Ä—É—Å—Å–∫–æ–º
- ‚úÖ –°–æ–∑–¥–∞–Ω `Makefile` —Å —É–¥–æ–±–Ω—ã–º–∏ –∫–æ–º–∞–Ω–¥–∞–º–∏
- ‚úÖ –°–æ–∑–¥–∞–Ω `check-structure.sh` –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã –ø—Ä–æ–µ–∫—Ç–∞
- ‚úÖ –°–æ–∑–¥–∞–Ω `.gitignore` –¥–ª—è –∏—Å–∫–ª—é—á–µ–Ω–∏—è –ª–∏—à–Ω–∏—Ö —Ñ–∞–π–ª–æ–≤

## üéØ –¢–µ–∫—É—â–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
HomebrewServicesManager/
‚îú‚îÄ‚îÄ .gitignore                 # Git ignore –ø—Ä–∞–≤–∏–ª–∞
‚îú‚îÄ‚îÄ Makefile                   # –£–¥–æ–±–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã –¥–ª—è —Å–±–æ—Ä–∫–∏
‚îú‚îÄ‚îÄ Package.swift              # SPM –º–∞–Ω–∏—Ñ–µ—Å—Ç ‚úÖ –ò–°–ü–†–ê–í–õ–ï–ù
‚îú‚îÄ‚îÄ README.md                  # –û—Ä–∏–≥–∏–Ω–∞–ª—å–Ω—ã–π README
‚îú‚îÄ‚îÄ README_RU.md              # –†—É—Å—Å–∫–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è ‚úÖ –ù–û–í–´–ô
‚îú‚îÄ‚îÄ build.sh                   # –°–∫—Ä–∏–ø—Ç —Å–±–æ—Ä–∫–∏ ‚úÖ –ò–°–ü–†–ê–í–õ–ï–ù
‚îú‚îÄ‚îÄ check-structure.sh         # –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã ‚úÖ –ù–û–í–´–ô
‚îÇ
‚îú‚îÄ‚îÄ Sources/
‚îÇ   ‚îú‚îÄ‚îÄ CLI/                   # ‚úÖ –ü–ï–†–ï–û–†–ì–ê–ù–ò–ó–û–í–ê–ù–û
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ main.swift
‚îÇ   ‚îÇ
‚îÇ   ‚îú‚îÄ‚îÄ Core/                  # ‚úÖ –ü–ï–†–ï–û–†–ì–ê–ù–ò–ó–û–í–ê–ù–û
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ BrewServiceManager.swift
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ Models.swift
‚îÇ   ‚îÇ
‚îÇ   ‚îú‚îÄ‚îÄ App/                   # ‚úÖ –ü–ï–†–ï–û–†–ì–ê–ù–ò–ó–û–í–ê–ù–û
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ FocusableTextField.swift
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ MainApp.swift
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ MenuBarController.swift
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ ServiceDetailView.swift
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ ServiceListView.swift
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ ServiceListViewModel.swift
‚îÇ   ‚îÇ
‚îÇ   ‚îî‚îÄ‚îÄ SystemModule/          # ‚úÖ –ü–ï–†–ï–û–†–ì–ê–ù–ò–ó–û–í–ê–ù–û
‚îÇ       ‚îú‚îÄ‚îÄ Dummy.swift
‚îÇ       ‚îî‚îÄ‚îÄ NotificationsManager.swift
‚îÇ
‚îî‚îÄ‚îÄ Tests/
    ‚îî‚îÄ‚îÄ CoreTests/             # ‚úÖ –ù–û–í–´–ô
        ‚îî‚îÄ‚îÄ BrewServiceManagerTests.swift
```

## üöÄ –ö–∞–∫ —Å–æ–±—Ä–∞—Ç—å –ø–µ—Ä–≤—ã–π –±–∏–ª–¥

### –í–∞—Ä–∏–∞–Ω—Ç 1: –ß–µ—Ä–µ–∑ build.sh (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)

```bash
# 1. –°–¥–µ–ª–∞–π—Ç–µ —Å–∫—Ä–∏–ø—Ç—ã –∏—Å–ø–æ–ª–Ω—è–µ–º—ã–º–∏
chmod +x build.sh check-structure.sh

# 2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Å—Ç—Ä—É–∫—Ç—É—Ä—É –ø—Ä–æ–µ–∫—Ç–∞
./check-structure.sh

# 3. –°–æ–±–µ—Ä–∏—Ç–µ CLI
./build.sh

# 4. –ò–ª–∏ —Å–æ–±–µ—Ä–∏—Ç–µ CLI + App
BUILD_APP=1 ./build.sh

# 5. –ó–∞–ø—É—Å—Ç–∏—Ç–µ CLI
./dist/hsmanager-cli

# 6. –ó–∞–ø—É—Å—Ç–∏—Ç–µ App (–µ—Å–ª–∏ —Å–æ–±—Ä–∞–ª–∏)
./dist/HomebrewServicesManager
```

### –í–∞—Ä–∏–∞–Ω—Ç 2: –ß–µ—Ä–µ–∑ Makefile

```bash
# –ü–æ–∫–∞–∑–∞—Ç—å –≤—Å–µ –¥–æ—Å—Ç—É–ø–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã
make help

# –°–æ–±—Ä–∞—Ç—å —Ç–æ–ª—å–∫–æ CLI
make build-cli

# –°–æ–±—Ä–∞—Ç—å CLI + App
make build

# –ó–∞–ø—É—Å—Ç–∏—Ç—å —Ç–µ—Å—Ç—ã
make test

# –°–æ–±—Ä–∞—Ç—å –∏ –∑–∞–ø—É—Å—Ç–∏—Ç—å CLI
make run-cli

# –°–æ–±—Ä–∞—Ç—å –∏ –∑–∞–ø—É—Å—Ç–∏—Ç—å App
make run-app

# –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å CLI –≤ —Å–∏—Å—Ç–µ–º—É
make install
```

### –í–∞—Ä–∏–∞–Ω—Ç 3: –ù–∞–ø—Ä—è–º—É—é —á–µ—Ä–µ–∑ Swift Package Manager

```bash
# –°–æ–±—Ä–∞—Ç—å –≤ debug —Ä–µ–∂–∏–º–µ
swift build

# –°–æ–±—Ä–∞—Ç—å –≤ release —Ä–µ–∂–∏–º–µ
swift build -c release

# –ó–∞–ø—É—Å—Ç–∏—Ç—å CLI
swift run hsmanager-cli

# –ó–∞–ø—É—Å—Ç–∏—Ç—å App
swift run HomebrewServicesManager

# –ó–∞–ø—É—Å—Ç–∏—Ç—å —Ç–µ—Å—Ç—ã
swift test
```

## ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç—ã

–ü–æ—Å–ª–µ —Å–±–æ—Ä–∫–∏ –ø—Ä–æ–≤–µ—Ä—å—Ç–µ:

1. **CLI —Ä–∞–±–æ—Ç–∞–µ—Ç:**
   ```bash
   ./dist/hsmanager-cli
   # –î–æ–ª–∂–µ–Ω –≤—ã–≤–µ—Å—Ç–∏ JSON —Å–æ —Å–ø–∏—Å–∫–æ–º brew —Å–µ—Ä–≤–∏—Å–æ–≤
   ```

2. **–¢–µ—Å—Ç—ã –ø—Ä–æ—Ö–æ–¥—è—Ç:**
   ```bash
   swift test
   # –ò–ª–∏
   make test
   ```

3. **App –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è:**
   ```bash
   ./dist/HomebrewServicesManager
   # –î–æ–ª–∂–Ω–æ –æ—Ç–∫—Ä—ã—Ç—å—Å—è GUI –æ–∫–Ω–æ
   ```

## üêõ –ü–æ—Ç–µ–Ω—Ü–∏–∞–ª—å–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã –∏ —Ä–µ—à–µ–Ω–∏—è

### –ü—Ä–æ–±–ª–µ–º–∞: "brew not found"
**–†–µ—à–µ–Ω–∏–µ:** –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ Homebrew —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω:
```bash
/bin/bash -c "$(curl -fsSL https://raw.githubusercontent.com/Homebrew/install/HEAD/install.sh)"
```

### –ü—Ä–æ–±–ª–µ–º–∞: "No such module 'Core'"
**–†–µ—à–µ–Ω–∏–µ:** –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –≤—Å–µ —Ñ–∞–π–ª—ã –≤ –ø—Ä–∞–≤–∏–ª—å–Ω—ã—Ö –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—è—Ö. –ó–∞–ø—É—Å—Ç–∏—Ç–µ:
```bash
./check-structure.sh
```

### –ü—Ä–æ–±–ª–µ–º–∞: –ù–µ –∫–æ–º–ø–∏–ª–∏—Ä—É–µ—Ç—Å—è App
**–†–µ—à–µ–Ω–∏–µ:** –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –≤–µ—Ä—Å–∏—é macOS:
```bash
sw_vers
# –¢—Ä–µ–±—É–µ—Ç—Å—è macOS 13.0+
```

## üìù –ß—Ç–æ –±—ã–ª–æ —É–ª—É—á—à–µ–Ω–æ

1. ‚úÖ **–°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞** - –≤—Å–µ —Ñ–∞–π–ª—ã –≤ –ø—Ä–∞–≤–∏–ª—å–Ω—ã—Ö –º–µ—Å—Ç–∞—Ö
2. ‚úÖ **Package.swift** - —è–≤–Ω—ã–µ –ø—É—Ç–∏ –¥–ª—è –≤—Å–µ—Ö —Ç–∞—Ä–≥–µ—Ç–æ–≤
3. ‚úÖ **–°–±–æ—Ä–∫–∞** - —É–ª—É—á—à–µ–Ω–Ω—ã–π build.sh —Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π –æ–ø—Ü–∏–π
4. ‚úÖ **–¢–µ—Å—Ç—ã** - –¥–æ–±–∞–≤–ª–µ–Ω—ã unit-—Ç–µ—Å—Ç—ã —Å Swift Testing
5. ‚úÖ **–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è** - –ø–æ–¥—Ä–æ–±–Ω—ã–µ README –∏ Makefile
6. ‚úÖ **DevEx** - —Å–∫—Ä–∏–ø—Ç –ø—Ä–æ–≤–µ—Ä–∫–∏ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã –ø—Ä–æ–µ–∫—Ç–∞
7. ‚úÖ **Git** - –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π .gitignore

## üéâ –ì–æ—Ç–æ–≤–æ –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é!

–ü—Ä–æ–µ–∫—Ç —Ç–µ–ø–µ—Ä—å –≥–æ—Ç–æ–≤ –∫ —Å–±–æ—Ä–∫–µ –∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é. –í—Å–µ –±–∞–≥–∏ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω—ã, —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –æ—Ä–≥–∞–Ω–∏–∑–æ–≤–∞–Ω–∞, –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –¥–æ–±–∞–≤–ª–µ–Ω–∞.

–ó–∞–ø—É—Å—Ç–∏—Ç–µ:
```bash
./check-structure.sh && ./build.sh && ./dist/hsmanager-cli
```

–ï—Å–ª–∏ –Ω—É–∂–Ω–∞ –ø–æ–º–æ—â—å, –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ:
```bash
make help
```
