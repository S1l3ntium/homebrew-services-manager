# Homebrew Services Manager

–ú–µ–Ω–µ–¥–∂–µ—Ä —Å–µ—Ä–≤–∏—Å–æ–≤ Homebrew —Å CLI –∏ macOS GUI –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ–º.

## –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

- üìã –ü—Ä–æ—Å–º–æ—Ç—Ä –≤—Å–µ—Ö —Å–µ—Ä–≤–∏—Å–æ–≤ Homebrew
- ‚ñ∂Ô∏è –ó–∞–ø—É—Å–∫, –æ—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫ —Å–µ—Ä–≤–∏—Å–æ–≤
- üñ•Ô∏è macOS –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ —Å GUI
- üíª CLI –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç –¥–ª—è —Ç–µ—Ä–º–∏–Ω–∞–ª–∞
- üîî –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –æ –¥–µ–π—Å—Ç–≤–∏—è—Ö
- üéØ –ú–µ–Ω—é-–±–∞—Ä –¥–ª—è –±—ã—Å—Ç—Ä–æ–≥–æ –¥–æ—Å—Ç—É–ø–∞

## –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
HomebrewServicesManager/
‚îú‚îÄ‚îÄ Package.swift              # SPM –º–∞–Ω–∏—Ñ–µ—Å—Ç
‚îú‚îÄ‚îÄ build.sh                   # –°–∫—Ä–∏–ø—Ç —Å–±–æ—Ä–∫–∏
‚îú‚îÄ‚îÄ Sources/
‚îÇ   ‚îú‚îÄ‚îÄ CLI/                   # CLI –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ main.swift
‚îÇ   ‚îú‚îÄ‚îÄ Core/                  # –û—Å–Ω–æ–≤–Ω–∞—è –ª–æ–≥–∏–∫–∞
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ Models.swift
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ BrewServiceManager.swift
‚îÇ   ‚îú‚îÄ‚îÄ App/                   # macOS GUI –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ MainApp.swift
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ ServiceListView.swift
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ ServiceDetailView.swift
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ ServiceListViewModel.swift
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ MenuBarController.swift
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ FocusableTextField.swift
‚îÇ   ‚îî‚îÄ‚îÄ SystemModule/          # –°–∏—Å—Ç–µ–º–Ω—ã–µ —É—Ç–∏–ª–∏—Ç—ã
‚îÇ       ‚îú‚îÄ‚îÄ NotificationsManager.swift
‚îÇ       ‚îî‚îÄ‚îÄ Dummy.swift
‚îî‚îÄ‚îÄ Tests/
    ‚îî‚îÄ‚îÄ CoreTests/             # –¢–µ—Å—Ç—ã
        ‚îî‚îÄ‚îÄ BrewServiceManagerTests.swift
```

## –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è

- macOS 13.0+
- Swift 5.8+
- Homebrew —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω –≤ —Å–∏—Å—Ç–µ–º–µ

## –°–±–æ—Ä–∫–∞

### CLI –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç

```bash
# –°–±–æ—Ä–∫–∞ —Ç–æ–ª—å–∫–æ CLI
./build.sh

# –ò–ª–∏ –≤—Ä—É—á–Ω—É—é
swift build -c release --product hsmanager-cli
```

### GUI –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ

```bash
# –°–±–æ—Ä–∫–∞ CLI + App
BUILD_APP=1 ./build.sh

# –ò–ª–∏ –≤—Ä—É—á–Ω—É—é
swift build -c release --product HomebrewServicesManager
```

## –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

### CLI

```bash
# –ü–æ–∫–∞–∑–∞—Ç—å –≤—Å–µ —Å–µ—Ä–≤–∏—Å—ã –≤ JSON —Ñ–æ—Ä–º–∞—Ç–µ
./dist/hsmanager-cli

# –ò–ª–∏ —á–µ—Ä–µ–∑ Swift Package Manager
swift run hsmanager-cli
```

### GUI –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ

```bash
# –ó–∞–ø—É—Å—Ç–∏—Ç—å GUI
./dist/HomebrewServicesManager

# –ò–ª–∏ —á–µ—Ä–µ–∑ SPM
swift run HomebrewServicesManager
```

–ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç:
- –°–ø–∏—Å–æ–∫ –≤—Å–µ—Ö Homebrew —Å–µ—Ä–≤–∏—Å–æ–≤ —Å —Ü–≤–µ—Ç–æ–≤—ã–º–∏ –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä–∞–º–∏ —Å—Ç–∞—Ç—É—Å–∞
- –î–µ—Ç–∞–ª—å–Ω—É—é –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ –≤—ã–±—Ä–∞–Ω–Ω–æ–º —Å–µ—Ä–≤–∏—Å–µ
- –ö–æ–Ω—Ç–µ–∫—Å—Ç–Ω–æ–µ –º–µ–Ω—é –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Å–µ—Ä–≤–∏—Å–∞–º–∏
- –ú–µ–Ω—é-–±–∞—Ä –¥–ª—è –±—ã—Å—Ç—Ä–æ–≥–æ –¥–æ—Å—Ç—É–ø–∞
- –ü–æ–∏—Å–∫ –ø–æ –Ω–∞–∑–≤–∞–Ω–∏—é —Å–µ—Ä–≤–∏—Å–∞

## –ó–∞–ø—É—Å–∫ —Ç–µ—Å—Ç–æ–≤

```bash
swift test
```

## –ò–∑–≤–µ—Å—Ç–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã –∏ –∏—Ö –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è

### 1. ‚úÖ –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∞ —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–π
   - –í—Å–µ —Ñ–∞–π–ª—ã —Ç–µ–ø–µ—Ä—å –≤ –ø—Ä–∞–≤–∏–ª—å–Ω—ã—Ö –ø–∞–ø–∫–∞—Ö Sources/{CLI,Core,App,SystemModule}

### 2. ‚úÖ –ò—Å–ø—Ä–∞–≤–ª–µ–Ω Package.swift
   - –î–æ–±–∞–≤–ª–µ–Ω—ã –ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ –ø—É—Ç–∏ –¥–ª—è –≤—Å–µ—Ö —Ç–∞—Ä–≥–µ—Ç–æ–≤
   - –ù–∞—Å—Ç—Ä–æ–µ–Ω—ã –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –º–µ–∂–¥—É –º–æ–¥—É–ª—è–º–∏

### 3. ‚úÖ –ò—Å–ø—Ä–∞–≤–ª–µ–Ω —Å–∫—Ä–∏–ø—Ç —Å–±–æ—Ä–∫–∏
   - –¢–µ–ø–µ—Ä—å dist —Å–æ–∑–¥–∞–µ—Ç—Å—è –≤ –∫–æ—Ä–Ω–µ –ø—Ä–æ–µ–∫—Ç–∞
   - –î–æ–±–∞–≤–ª–µ–Ω—ã emoji –∏ —É–ª—É—á—à–µ–Ω–Ω—ã–π –≤—ã–≤–æ–¥
   - –û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–∞—è —Å–±–æ—Ä–∫–∞ App —á–µ—Ä–µ–∑ BUILD_APP=1

### 4. ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω—ã —Ç–µ—Å—Ç—ã
   - –ë–∞–∑–æ–≤—ã–µ unit-—Ç–µ—Å—Ç—ã –¥–ª—è –ø–∞—Ä—Å–µ—Ä–∞
   - –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –Ω–æ–≤—ã–π Swift Testing —Ñ—Ä–µ–π–º–≤–æ—Ä–∫

## –†–∞–∑—Ä–∞–±–æ—Ç–∫–∞

### –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –Ω–æ–≤—ã—Ö —Ñ–∏—á

1. –û—Å–Ω–æ–≤–Ω–∞—è –ª–æ–≥–∏–∫–∞ —Ä–∞–±–æ—Ç—ã —Å brew ‚Üí `Sources/Core/`
2. UI –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã ‚Üí `Sources/App/`
3. –°–∏—Å—Ç–µ–º–Ω—ã–µ —É—Ç–∏–ª–∏—Ç—ã ‚Üí `Sources/SystemModule/`
4. CLI –∫–æ–º–∞–Ω–¥—ã ‚Üí `Sources/CLI/`

### –û—Ç–ª–∞–¥–∫–∞

```bash
# –ó–∞–ø—É—Å–∫ —Å –æ—Ç–ª–∞–¥–æ—á–Ω–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–µ–π
swift run --configuration debug HomebrewServicesManager

# –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–∞—Ä—Å–∏–Ω–≥–∞
swift run --configuration debug hsmanager-cli
```

## –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏

- [ ] –î–æ–±–∞–≤–∏—Ç—å SMJobBless –¥–ª—è –ø—Ä–∏–≤–∏–ª–µ–≥–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö –æ–ø–µ—Ä–∞—Ü–∏–π
- [ ] –î–æ–±–∞–≤–∏—Ç—å –ø—Ä–æ—Å–º–æ—Ç—Ä –ª–æ–≥–æ–≤ —Å–µ—Ä–≤–∏—Å–æ–≤
- [ ] –î–æ–±–∞–≤–∏—Ç—å –∞–≤—Ç–æ–∑–∞–ø—É—Å–∫ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –ø—Ä–∏ —Å—Ç–∞—Ä—Ç–µ —Å–∏—Å—Ç–µ–º—ã
- [ ] –°–æ–∑–¥–∞—Ç—å .app bundle —Å –∫–æ–¥–ø–æ–¥–ø–∏—Å—å—é
- [ ] –î–æ–±–∞–≤–∏—Ç—å –ø–æ–¥–¥–µ—Ä–∂–∫—É brew services info
- [ ] –î–æ–±–∞–≤–∏—Ç—å —Ñ–∏–ª—å—Ç—Ä—ã –ø–æ —Å—Ç–∞—Ç—É—Å—É —Å–µ—Ä–≤–∏—Å–æ–≤

## –õ–∏—Ü–µ–Ω–∑–∏—è

–ü—Ä–æ–µ–∫—Ç —Å–æ–∑–¥–∞–Ω –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è Homebrew —Å–µ—Ä–≤–∏—Å–∞–º–∏ –Ω–∞ macOS.
